#include "openings.hpp"
#include <fstream>

void insert_basic_openings(std::unordered_map<Board, int>&);

Openings::Openings() {
    auto load_data = std::ifstream("openings.txt");

    uint64_t board = 0;
    int move = 0;

    insert_basic_openings(openings_map);

    while(load_data >> board >> move) {
        openings_map[Board(board)] = move;
    }
}


auto Openings::get_opening(const Board& board) const -> std::optional<int> {
    if(!openings_map.contains(board)) {
        return std::nullopt;
    }
    return openings_map.at(board);
}


void insert_basic_openings(std::unordered_map<Board, int>& map) {
    map[Board(282429536481)] = 11;
    map[Board(282429536483)] = 12;
    map[Board(94143178829)] = 12;
    map[Board(292889889686)] = 12;
    map[Board(104603532032)] = 12;
    map[Board(41841412814)] = 12;
    map[Board(10460353205)] = 12;
    map[Board(3486784401)] = 11;
    map[Board(285916320884)] = 12;
    map[Board(97629963230)] = 12;
    map[Board(34867844012)] = 12;
    map[Board(13947137606)] = 12;
    map[Board(3486784403)] = 14;
    map[Board(95305440296)] = 12;
    map[Board(282816956972)] = 12;
    map[Board(94530599318)] = 12;
    map[Board(31768480100)] = 12;
    map[Board(387420491)] = 24;
    map[Board(129140163)] = 11;
    map[Board(282558676646)] = 12;
    map[Board(1291401632)] = 12;
    map[Board(129140165)] = 54;
    map[Board(43046721)] = 11;
    map[Board(282472583204)] = 12;
    map[Board(94186225550)] = 12;
    map[Board(31424106332)] = 12;
    map[Board(10503399926)] = 12;
    map[Board(430467212)] = 12;
    map[Board(172186886)] = 12;
    map[Board(10474702112)] = 12;
    map[Board(3501133310)] = 12;
    map[Board(1176610376)] = 12;
    map[Board(57395630)] = 12;
    map[Board(4782969)] = 11;
    map[Board(282434319452)] = 12;
    map[Board(94147961798)] = 12;
    map[Board(31385842580)] = 12;
    map[Board(10465136174)] = 12;
    map[Board(1167044438)] = 12;
    map[Board(392203460)] = 12;
    map[Board(133923134)] = 12;
    map[Board(47829692)] = 12;
    map[Board(1594323)] = 11;
    map[Board(282431130806)] = 12;
    map[Board(94144773152)] = 12;
    map[Board(3488378726)] = 12;
    map[Board(6377294)] = 12;
    map[Board(1594325)] = 12;
    map[Board(531441)] = 11;
    map[Board(282430067924)] = 12;
    map[Board(94143710270)] = 12;
    map[Board(10460884646)] = 12;
    map[Board(3487315844)] = 12;
    map[Board(1162792910)] = 12;
    map[Board(43578164)] = 12;
    map[Board(14880350)] = 12;
    map[Board(5314412)] = 12;
    map[Board(177147)] = 11;
    map[Board(282429713630)] = 12;
    map[Board(31381236758)] = 12;
    map[Board(3486961550)] = 12;
    map[Board(1162438616)] = 12;
    map[Board(129317312)] = 12;
    map[Board(43223870)] = 12;
    map[Board(4960118)] = 12;
    map[Board(1771472)] = 12;
    map[Board(177149)] = 12;
    map[Board(94143237878)] = 12;
    map[Board(31381118660)] = 12;
    map[Board(1162320518)] = 12;
    map[Board(43105772)] = 12;
    map[Board(14407958)] = 12;
    map[Board(1653374)] = 12;
    map[Board(236198)] = 12;
    map[Board(59051)] = 12;
    map[Board(19683)] = 11;
    map[Board(282429556166)] = 12;
    map[Board(250)] = 14;
    map[Board(31382653934)] = 12;
    map[Board(86093443)] = 12;
    map[Board(4782998)] = 12;
    map[Board(4782974)] = 13;
    map[Board(62762119219)] = 12;
    map[Board(43046966)] = 12;
    map[Board(19)] = 12;
    map[Board(94272318992)] = 12;
    map[Board(61238)] = 12;
    map[Board(10460530352)] = 12;
    map[Board(177152)] = 13;
    map[Board(59054)] = 13;
    map[Board(4649045870)] = 12;
    map[Board(3529831124)] = 12;
    map[Board(143489072)] = 12;
    map[Board(10589493368)] = 12;
    map[Board(10460353232)] = 12;
    map[Board(531446)] = 13;
    map[Board(6566)] = 15;
    map[Board(129199214)] = 12;
    map[Board(3491567372)] = 12;
    map[Board(531686)] = 12;
    map[Board(13123)] = 12;
    map[Board(282429595532)] = 12;
    map[Board(28697815)] = 12;
    map[Board(282429536510)] = 12;
    map[Board(19928)] = 12;
    map[Board(387420734)] = 12;
    map[Board(15943232)] = 12;
    map[Board(974)] = 12;
    map[Board(4783214)] = 12;
    map[Board(94157527736)] = 12;
    map[Board(516560654)] = 12;
    map[Board(387420518)] = 12;
    map[Board(2125766)] = 12;
    map[Board(2192)] = 13;
    map[Board(19690)] = 13;
    map[Board(32)] = 13;
    map[Board(1549681958)] = 12;
    map[Board(5)] = 52;
    map[Board(14)] = 14;
    map[Board(3486784646)] = 12;
    map[Board(188286357655)] = 12;
    map[Board(6973568806)] = 14;
    map[Board(2324522938)] = 14;
    map[Board(774840979)] = 12;
    map[Board(774840982)] = 14;
    map[Board(258280327)] = 12;
    map[Board(28697818)] = 14;
    map[Board(3188647)] = 12;
    map[Board(1062883)] = 12;
    map[Board(389014814)] = 12;
    map[Board(354295)] = 12;
    map[Board(354298)] = 14;
    map[Board(118099)] = 12;
    map[Board(39370)] = 14;
    map[Board(13126)] = 15;
    map[Board(10460353934)] = 12;
    map[Board(4378)] = 43;
    map[Board(1062886)] = 14;
    map[Board(94143185390)] = 12;
    map[Board(490)] = 14;
    map[Board(163)] = 12;
    map[Board(166)] = 25;
    map[Board(10460412254)] = 12;
    map[Board(1459)] = 12;
    map[Board(129140170)] = 13;
    map[Board(387951932)] = 12;
    map[Board(129140894)] = 12;
    map[Board(3486790964)] = 12;
    map[Board(14349152)] = 12;
    map[Board(3486784406)] = 14;
    map[Board(94143355976)] = 12;
    map[Board(282429537212)] = 12;
    map[Board(1162261712)] = 12;
    map[Board(487)] = 12;
    map[Board(1162261467)] = 11;
    map[Board(19131878)] = 12;
    map[Board(4782971)] = 24;
    map[Board(2324522935)] = 12;
    map[Board(376572715310)] = 12;
    map[Board(14348936)] = 12;
    map[Board(10460353203)] = 11;
    map[Board(14349638)] = 12;
    map[Board(43046723)] = 55;
    map[Board(58)] = 25;
    map[Board(564859072966)] = 14;
    map[Board(31381059854)] = 12;
    map[Board(6568)] = 13;
    map[Board(43046728)] = 13;
    map[Board(4375)] = 12;
    map[Board(129671606)] = 12;
    map[Board(129140192)] = 12;
    map[Board(387420489)] = 11;
    map[Board(14348914)] = 14;
    map[Board(14348909)] = 14;
    map[Board(1163855792)] = 12;
    map[Board(14368592)] = 12;
    map[Board(10460355392)] = 12;
    map[Board(14348990)] = 12;
    map[Board(258280330)] = 23;
    map[Board(387420496)] = 13;
    map[Board(0)] = 14;
    map[Board(39367)] = 12;
    map[Board(282443885390)] = 12;
    map[Board(1)] = 15;
    map[Board(31381079294)] = 12;
    map[Board(129140408)] = 12;
    map[Board(387427052)] = 12;
    map[Board(254)] = 12;
    map[Board(14348907)] = 11;
    map[Board(16)] = 21;
    map[Board(86)] = 21;
    map[Board(248)] = 13;
    map[Board(14348918)] = 12;
    map[Board(4783052)] = 12;
    map[Board(1594334)] = 12;
    map[Board(44641046)] = 12;
    map[Board(9565942)] = 14;
    map[Board(1595054)] = 12;
    map[Board(129146726)] = 12;
    map[Board(387479540)] = 12;
    map[Board(88)] = 13;
    map[Board(22)] = 15;
    map[Board(3486784412)] = 12;
    map[Board(94143178856)] = 12;
    map[Board(1594328)] = 15;
    map[Board(533630)] = 12;
    map[Board(2918)] = 12;
    map[Board(19766)] = 12;
    map[Board(6563)] = 15;
    map[Board(6806)] = 12;
    map[Board(1594330)] = 14;
    map[Board(43046726)] = 25;
    map[Board(736)] = 13;
    map[Board(94143178838)] = 12;
    map[Board(129140246)] = 12;
    map[Board(4782976)] = 13;
    map[Board(14348912)] = 13;
    map[Board(94143178834)] = 13;
    map[Board(59056)] = 13;
    map[Board(531448)] = 13;
    map[Board(531470)] = 12;
    map[Board(8750)] = 12;
    map[Board(3188650)] = 14;
    map[Board(9)] = 11;
    map[Board(1162261474)] = 13;
    map[Board(34)] = 24;
    map[Board(3486784408)] = 13;
    map[Board(31381059616)] = 13;
    map[Board(282429536488)] = 13;
    map[Board(564859072963)] = 12;
    map[Board(3874204892)] = 12;
    map[Board(282429538670)] = 12;
    map[Board(1162263656)] = 12;
    map[Board(110)] = 12;
    map[Board(387420494)] = 13;
    map[Board(590492)] = 12;
    map[Board(14355470)] = 12;
    map[Board(188286357658)] = 14;
    map[Board(19712)] = 12;
    map[Board(20920706410)] = 14;
    map[Board(177230)] = 12;
    map[Board(2194)] = 14;
    map[Board(734)] = 13;
    map[Board(10460353210)] = 13;
    map[Board(387420500)] = 12;
    map[Board(1614008)] = 12;
    map[Board(94143198512)] = 12;
    map[Board(1462)] = 15;
    map[Board(31510199774)] = 12;
    map[Board(3486843452)] = 12;
    map[Board(129140168)] = 13;
    map[Board(11622614672)] = 12;
    map[Board(1162261472)] = 24;
    map[Board(4782980)] = 12;
    map[Board(94143178827)] = 11;
    map[Board(14526056)] = 12;
    map[Board(740)] = 12;
    map[Board(177878)] = 12;
    map[Board(1205308190)] = 12;
    map[Board(272)] = 12;
    map[Board(32543321078)] = 12;
    map[Board(4785158)] = 12;
    map[Board(4783700)] = 12;
    map[Board(10460353286)] = 12;
    map[Board(3486784484)] = 12;
    map[Board(10460359766)] = 12;
    map[Board(129159848)] = 12;
    map[Board(10460353208)] = 13;
    map[Board(31381059614)] = 13;
    map[Board(94143178832)] = 13;
    map[Board(282429536486)] = 13;
    map[Board(3)] = 11;
    map[Board(11)] = 15;
    map[Board(38)] = 12;
    map[Board(55)] = 12;
    map[Board(92)] = 12;
    map[Board(31381591052)] = 12;
    map[Board(62762119222)] = 14;
    map[Board(6572)] = 12;
    map[Board(2198)] = 12;
    map[Board(531443)] = 12;
    map[Board(19694)] = 12;
    map[Board(59060)] = 12;
    map[Board(387597638)] = 12;
    map[Board(86093446)] = 14;
    map[Board(177158)] = 12;
    map[Board(731)] = 15;
    map[Board(177154)] = 14;
    map[Board(531452)] = 12;
    map[Board(43046732)] = 12;
    map[Board(129140174)] = 12;
    map[Board(10460353214)] = 12;
    map[Board(31381059620)] = 12;
    map[Board(282429536492)] = 12;
    map[Board(29)] = 54;
    map[Board(26246)] = 12;
    map[Board(43046804)] = 12;
    map[Board(708590)] = 12;
    map[Board(326)] = 12;
    map[Board(1162261469)] = 12;
    map[Board(1162268030)] = 12;
    map[Board(758)] = 12;
    map[Board(10461947528)] = 12;
    map[Board(1162262198)] = 12;
    map[Board(2216)] = 12;
    map[Board(6590)] = 12;
    map[Board(9565939)] = 12;
    map[Board(59078)] = 12;
    map[Board(177176)] = 12;
    map[Board(401769398)] = 12;
    map[Board(177392)] = 12;
    map[Board(43047452)] = 12;
    map[Board(3615924566)] = 12;
    map[Board(6973568803)] = 12;
    map[Board(1594568)] = 12;
    map[Board(3486785132)] = 12;
    map[Board(125524238438)] = 12;
    map[Board(43046750)] = 12;
    map[Board(14351096)] = 12;
    map[Board(4842020)] = 12;
    map[Board(1162281152)] = 12;
    map[Board(20920706407)] = 12;
    map[Board(1162261496)] = 12;
    map[Board(3486784430)] = 12;
    map[Board(19688)] = 14;
    map[Board(387421220)] = 12;
    map[Board(196832)] = 12;
    map[Board(31381059638)] = 12;
    map[Board(27)] = 11;
    map[Board(83)] = 22;
    map[Board(812)] = 12;
    map[Board(2270)] = 12;
    map[Board(6644)] = 12;
    map[Board(3486786590)] = 12;
    map[Board(130734488)] = 12;
    map[Board(531524)] = 12;
    map[Board(1594406)] = 12;
    map[Board(387420572)] = 12;
    map[Board(1162261550)] = 12;
    map[Board(31381059692)] = 12;
    map[Board(282429536564)] = 12;
    map[Board(81)] = 11;
    map[Board(538004)] = 12;
    map[Board(2432)] = 12;
    map[Board(1162261478)] = 12;
    map[Board(59294)] = 12;
    map[Board(94143178910)] = 12;
    map[Board(31381066172)] = 12;
    map[Board(10460353448)] = 12;
    map[Board(532172)] = 12;
    map[Board(94143179072)] = 12;
    map[Board(1596512)] = 12;
    map[Board(282429536726)] = 12;
    map[Board(243)] = 11;
    map[Board(7292)] = 12;
    map[Board(20414)] = 24;
    map[Board(283591797950)] = 12;
    map[Board(7)] = 15;
    map[Board(10847773694)] = 12;
    map[Board(31381059611)] = 12;
    map[Board(245)] = 12;
    map[Board(59049)] = 11;
    map[Board(59132)] = 12;
    map[Board(31395408518)] = 12;
    map[Board(118102)] = 14;
    map[Board(1600886)] = 12;
    map[Board(183710)] = 12;
    map[Board(59780)] = 12;
    map[Board(2189)] = 15;
    map[Board(31381060340)] = 12;
    map[Board(94143179558)] = 12;
    map[Board(729)] = 11;
    map[Board(21872)] = 12;
    map[Board(179336)] = 12;
    map[Board(43048910)] = 12;
    map[Board(129142352)] = 12;
    map[Board(387422678)] = 12;
    map[Board(31381061798)] = 12;
    map[Board(94143181016)] = 12;
    map[Board(2187)] = 11;
    map[Board(65612)] = 12;
    map[Board(4789532)] = 12;
    map[Board(43053284)] = 12;
    map[Board(313810596092)] = 12;
    map[Board(31381059609)] = 11;
    map[Board(282429543044)] = 12;
    map[Board(6561)] = 11;
    map[Board(19685)] = 14;
    map[Board(78734)] = 12;
    map[Board(551126)] = 12;
    map[Board(1594352)] = 12;
    map[Board(4802654)] = 12;
    map[Board(43066406)] = 12;
    map[Board(387440174)] = 12;
    map[Board(3486804086)] = 12;
    map[Board(10460372888)] = 12;
}
